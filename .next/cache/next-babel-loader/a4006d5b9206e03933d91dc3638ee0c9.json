{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"E:\\\\clg-project\\\\Glossar-web-app\\\\src\\\\pages\\\\auth\\\\login.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport { Breadcrumb, Form, Input, Button, Checkbox, Row, Col } from \"antd\";\nimport Link from \"next/link\";\nimport React, { useState } from \"react\";\nimport { apiInstance } from \"../../httpClient\";\nimport LayoutOne from \"../../components/layout/LayoutOne\";\nimport Container from \"../../components/other/Container\";\nimport PartnerOne from \"../../components/sections/partners/PartnerOne\";\nimport { useRouter } from \"next/router\";\nimport { setToken } from \"../../httpClient/ClientHelper\";\nimport { setUserSession } from \"../../utils/common\";\n\nvar login = function login() {\n  _s();\n\n  var router = useRouter();\n\n  var _useState = useState(),\n      email = _useState[0],\n      setEmail = _useState[1];\n\n  var _useState2 = useState(),\n      password = _useState2[0],\n      setPassword = _useState2[1];\n\n  var handleEmail = function handleEmail(e) {\n    setEmail(e.target.value);\n  };\n\n  var handlePassword = function handlePassword(e) {\n    setPassword(e.target.value);\n  }; // const onFinish = (values) => {\n  //   console.log(\"Success:\", values);\n  // };\n  // const onFinishFailed = (errorInfo) => {\n  //   console.log(\"Failed:\", errorInfo);\n  // };\n\n\n  var loginUserData = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var loginData, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              loginData = {\n                email: email,\n                password: password\n              };\n              _context.prev = 1;\n              console.log('userData----', loginData);\n              _context.next = 5;\n              return apiInstance.post(\"auth/login\", loginData);\n\n            case 5:\n              res = _context.sent;\n              console.log(\"===========logindata====================\", res);\n\n              if (res.status == 200) {\n                setToken(res.data.data.token);\n                setUserSession(res.data.data.token, res.data.data.userName, res.data.data.email, res.data.data.phone, res.data.data);\n                router.push('/');\n              }\n\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(\"erorrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr\", _context.t0.response);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 10]]);\n    }));\n\n    return function loginUserData() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(LayoutOne, {\n    title: \"Login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, __jsx(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }, __jsx(Breadcrumb, {\n    separator: \">\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, __jsx(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-home\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }), \"Home\"), __jsx(Breadcrumb.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \"Login\")), __jsx(\"div\", {\n    className: \"auth\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, __jsx(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, __jsx(Col, {\n    xs: 24,\n    md: {\n      span: 12,\n      offset: 6\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, __jsx(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, \"Login\"), __jsx(\"div\", {\n    className: \"auth-form\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, __jsx(Form, {\n    layout: \"vertical\",\n    name: \"login\" // onFinish={onFinish}\n    // onFinishFailed={onFinishFailed}\n    ,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, __jsx(Form.Item, {\n    label: \"Username or email address\",\n    name: \"username\",\n    rules: [{\n      required: true,\n      message: \"Please input your username!\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  }, __jsx(Input, {\n    onChange: handleEmail,\n    value: email,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  })), __jsx(Form.Item, {\n    label: \"Password\",\n    name: \"password\",\n    rules: [{\n      required: true,\n      message: \"Please input your password!\"\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 19\n    }\n  }, __jsx(Input.Password, {\n    onChange: handlePassword,\n    value: password,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 21\n    }\n  })), __jsx(Form.Item, {\n    className: \"form-functions\",\n    name: \"remember\",\n    valuePropName: \"checked\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 19\n    }\n  }, __jsx(Checkbox, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 21\n    }\n  }, \"Remember me\"), __jsx(Button, {\n    type: \"link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }, \"Forget your password\")), __jsx(Form.Item, {\n    className: \"form-submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 19\n    }\n  }, __jsx(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    onClick: loginUserData,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  }, \"Signin\"), __jsx(Button, {\n    type: \"link\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, __jsx(Link, {\n    href: process.env.PUBLIC_URL + \"/auth/register\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 23\n    }\n  }, __jsx(\"a\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }, \"OR CREATE AN ACCOUNT\"))))))))), __jsx(PartnerOne, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  })));\n};\n\n_s(login, \"b/i3ultItu0HSlZxJrpLWngwmCU=\", false, function () {\n  return [useRouter];\n});\n\nexport default login;","map":{"version":3,"sources":["E:/clg-project/Glossar-web-app/src/pages/auth/login.js"],"names":["Breadcrumb","Form","Input","Button","Checkbox","Row","Col","Link","React","useState","apiInstance","LayoutOne","Container","PartnerOne","useRouter","setToken","setUserSession","login","router","email","setEmail","password","setPassword","handleEmail","e","target","value","handlePassword","loginUserData","loginData","console","log","post","res","status","data","token","userName","phone","push","response","span","offset","required","message","process","env","PUBLIC_URL"],"mappings":"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","sourcesContent":["import { Breadcrumb, Form, Input, Button, Checkbox, Row, Col } from \"antd\";\r\nimport Link from \"next/link\";\r\nimport React,{ useState } from \"react\";\r\nimport { apiInstance } from \"../../httpClient\";\r\nimport LayoutOne from \"../../components/layout/LayoutOne\";\r\nimport Container from \"../../components/other/Container\";\r\nimport PartnerOne from \"../../components/sections/partners/PartnerOne\";\r\nimport { useRouter } from \"next/router\"\r\nimport { setToken } from \"../../httpClient/ClientHelper\";\r\nimport { setUserSession } from \"../../utils/common\";\r\n\r\nconst login = () => {\r\n\r\n  const router = useRouter()\r\n  const [email,setEmail]=useState();\r\n  const [password,setPassword]=useState();\r\n\r\n  const handleEmail=(e)=>{\r\n    setEmail(e.target.value);\r\n   }\r\n   const handlePassword=(e)=>{\r\n    setPassword(e.target.value);\r\n   }\r\n  \r\n\r\n  // const onFinish = (values) => {\r\n  //   console.log(\"Success:\", values);\r\n  // };\r\n\r\n  // const onFinishFailed = (errorInfo) => {\r\n  //   console.log(\"Failed:\", errorInfo);\r\n  // };\r\n\r\n  const loginUserData= async () =>{  \r\n    \r\n\r\n    const loginData={\r\n      email:email,\r\n      password:password\r\n      }\r\n      try{\r\n        console.log('userData----',loginData);\r\n        const res = await apiInstance.post(`auth/login`,loginData)  \r\n        console.log(\"===========logindata====================\",res); \r\n        if(res.status == 200){\r\n          setToken(res.data.data.token);\r\n        setUserSession(\r\n          res.data.data.token,\r\n          \r\n          res.data.data.userName,\r\n          res.data.data.email,\r\n          res.data.data.phone,\r\n          res.data.data\r\n        );\r\n        router.push('/')\r\n\r\n        }\r\n        \r\n        \r\n      }\r\n      catch(error){\r\n        console.log(\"erorrrrrrrrrrrrrrrrrrrrrrrrrrrrrrr\", error.response);\r\n      }\r\n    }\r\n\r\n\r\n  return (\r\n    <LayoutOne title=\"Login\">\r\n      <Container>\r\n        <Breadcrumb separator=\">\">\r\n          <Breadcrumb.Item>\r\n            <i className=\"fas fa-home\" />\r\n            Home\r\n          </Breadcrumb.Item>\r\n          <Breadcrumb.Item>Login</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <div className=\"auth\">\r\n          <Row>\r\n            <Col xs={24} md={{ span: 12, offset: 6 }}>\r\n              <h2>Login</h2>\r\n              <div className=\"auth-form\">\r\n                <Form\r\n                  layout=\"vertical\"\r\n                  name=\"login\"\r\n                  // onFinish={onFinish}\r\n                  // onFinishFailed={onFinishFailed}\r\n                >\r\n                  <Form.Item\r\n                    label=\"Username or email address\"\r\n                    name=\"username\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: \"Please input your username!\",\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <Input onChange={handleEmail} value={email}/>\r\n                  </Form.Item>\r\n\r\n                  <Form.Item\r\n                    label=\"Password\"\r\n                    name=\"password\"\r\n                    rules={[\r\n                      {\r\n                        required: true,\r\n                        message: \"Please input your password!\",\r\n                      },\r\n                    ]}\r\n                  >\r\n                    <Input.Password onChange={handlePassword} value={password}/>\r\n                  </Form.Item>\r\n                  <Form.Item\r\n                    className=\"form-functions\"\r\n                    name=\"remember\"\r\n                    valuePropName=\"checked\"\r\n                  >\r\n                    <Checkbox>Remember me</Checkbox>\r\n                    <Button type=\"link\">Forget your password</Button>\r\n                  </Form.Item>\r\n                  <Form.Item className=\"form-submit\">\r\n                    <Button type=\"primary\" htmlType=\"submit\" onClick={loginUserData}>\r\n                      Signin\r\n                    </Button>\r\n                    <Button type=\"link\" >\r\n                      <Link href={process.env.PUBLIC_URL + \"/auth/register\"}>\r\n                        <a>OR CREATE AN ACCOUNT</a>\r\n                      </Link>\r\n                    </Button>\r\n                  </Form.Item>\r\n                </Form>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n        <PartnerOne />\r\n      </Container>\r\n    </LayoutOne>\r\n  );\r\n};\r\n\r\nexport default login;\r\n"]},"metadata":{},"sourceType":"module"}