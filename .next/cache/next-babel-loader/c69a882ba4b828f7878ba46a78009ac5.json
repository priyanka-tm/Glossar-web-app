{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"E:\\\\clg-project\\\\Glossar-web-app\\\\src\\\\pages\\\\shop\\\\checkout.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Form, Input, Button, Checkbox, Row, Col, Select, Radio, Breadcrumb } from \"antd\";\nimport { useRouter } from \"next/router\";\nimport { formatCurrency } from \"../../common/utils\";\nimport { calculateTotalPrice } from \"../../common/shopUtils\";\nimport LayoutOne from \"../../components/layout/LayoutOne\";\nimport Container from \"../../components/other/Container\";\nimport ShopOrderStep from \"../../components/shop/ShopOrderStep\";\nimport PartnerOne from \"../../components/sections/partners/PartnerOne\";\nimport FetchDataHandle from \"../../components/other/FetchDataHandle\";\nimport { apiInstance } from \"../../httpClient\";\nimport { getToken } from \"../../utils/common\";\n\nfunction checkout() {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(\"cod\"),\n      paymentMethod = _useState[0],\n      setPaymentMethod = _useState[1];\n\n  var router = useRouter();\n  var cartState = useSelector(function (state) {\n    return state.cartReducer;\n  });\n\n  var onFinish = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n      var orderData, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log('values: ', values);\n              orderData = {\n                \"name\": values.firstname,\n                \"country\": values.country,\n                \"address\": values.street,\n                \"zipCode\": values.zip,\n                \"city\": values.city,\n                \"phone\": values.phone,\n                \"email\": values.email\n              };\n              _context.prev = 2;\n              _context.next = 5;\n              return apiInstance.post(\"order/create\", orderData, {\n                headers: {\n                  \"Authorization\": getToken()\n                }\n              });\n\n            case 5:\n              res = _context.sent;\n              console.log('res: ', res);\n              router.push(\"/shop/order-complete\");\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](2);\n              console.log('e: ', _context.t0.response);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 10]]);\n    }));\n\n    return function onFinish(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var onFinishFailed = function onFinishFailed(errorInfo) {\n    console.log(\"Failed:\", errorInfo);\n  };\n\n  var onChoosePaymentMethod = function onChoosePaymentMethod(e) {\n    setPaymentMethod(e.target.value);\n  };\n\n  return __jsx(LayoutOne, {\n    title: \"Checkout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, __jsx(Breadcrumb, {\n    separator: \">\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, __jsx(Breadcrumb.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }), \"Home\"), __jsx(Breadcrumb.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, \"Shop\"), __jsx(Breadcrumb.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, \"Checkout\")), __jsx(ShopOrderStep, {\n    current: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }), __jsx(FetchDataHandle, {\n    emptyDescription: \"No product in cart\",\n    data: cartState,\n    renderData: function renderData(data) {\n      return __jsx(\"div\", {\n        className: \"checkout\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }\n      }, __jsx(Row, {\n        gutter: 50,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }\n      }, __jsx(Col, {\n        xs: 24,\n        md: 16,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }\n      }, __jsx(\"div\", {\n        className: \"checkout-form\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 19\n        }\n      }, __jsx(\"h3\", {\n        className: \"checkout-title\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }\n      }, \"Billing details\"), __jsx(Form, {\n        name: \"checkout\",\n        layout: \"vertical\",\n        onFinish: onFinish,\n        onFinishFailed: onFinishFailed,\n        id: \"checkout-form\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }\n      }, __jsx(Row, {\n        gutter: 15,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 23\n        }\n      }, __jsx(Col, {\n        xs: 24,\n        sm: 24,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }\n      }, __jsx(Form.Item, {\n        label: \"First name\",\n        name: \"firstname\",\n        rules: [{\n          required: true,\n          message: \"Please input your first name!\"\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 27\n        }\n      }, __jsx(Input, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 29\n        }\n      }))), __jsx(Col, {\n        span: 24,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 25\n        }\n      }, __jsx(Form.Item, {\n        label: \"Country\",\n        name: \"country\",\n        rules: [{\n          required: true,\n          message: \"Please input your country!\"\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 27\n        }\n      }, __jsx(Input, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 29\n        }\n      }))), __jsx(Col, {\n        span: 24,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }\n      }, __jsx(Form.Item, {\n        label: \"Street address\",\n        name: \"street\",\n        rules: [{\n          required: true,\n          message: \"Please input your street addres!\"\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 27\n        }\n      }, __jsx(Input, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 29\n        }\n      }))), __jsx(Col, {\n        span: 24,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 25\n        }\n      }, __jsx(Form.Item, {\n        label: \"Postcode / ZIP (optional)\",\n        name: \"zip\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 27\n        }\n      }, __jsx(Input, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 29\n        }\n      }))), __jsx(Col, {\n        span: 24,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 25\n        }\n      }, __jsx(Form.Item, {\n        label: \"Town / City\",\n        name: \"city\",\n        rules: [{\n          required: true,\n          message: \"Please input your Town/City!\"\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 27\n        }\n      }, __jsx(Input, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 29\n        }\n      }))), __jsx(Col, {\n        span: 24,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 25\n        }\n      }, __jsx(Form.Item, {\n        label: \"Phone\",\n        name: \"phone\",\n        rules: [{\n          required: true,\n          message: \"Please input your phone!\"\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 27\n        }\n      }, __jsx(Input, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 29\n        }\n      }))), __jsx(Col, {\n        span: 24,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 25\n        }\n      }, __jsx(Form.Item, {\n        label: \"Email address\",\n        name: \"email\",\n        rules: [{\n          required: true,\n          message: \"Please input your email address!\"\n        }],\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 27\n        }\n      }, __jsx(Input, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 29\n        }\n      }))))))), __jsx(Col, {\n        xs: 24,\n        md: 8,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 17\n        }\n      }, __jsx(\"div\", {\n        className: \"checkout-total\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 19\n        }\n      }, __jsx(\"h3\", {\n        className: \"checkout-title\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }\n      }, \"Your order\"), __jsx(\"table\", {\n        className: \"checkout-total__table\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }\n      }, __jsx(\"tbody\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 23\n        }\n      }, data.map(function (item, index) {\n        return __jsx(\"tr\", {\n          key: index,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 27\n          }\n        }, __jsx(\"td\", {\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 29\n          }\n        }, item.name, \" x \", item.cartQuantity), __jsx(\"td\", {\n          className: \"-bold \",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 29\n          }\n        }, formatCurrency(item.price * item.cartQuantity)));\n      }), __jsx(\"tr\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 25\n        }\n      }, __jsx(\"th\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 27\n        }\n      }, \"SUBTOTAL\"), __jsx(\"td\", {\n        className: \"-bold -color\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 27\n        }\n      }, formatCurrency(calculateTotalPrice(data)))), __jsx(\"tr\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 25\n        }\n      }, __jsx(\"th\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 27\n        }\n      }, \"SHIPPING\"), __jsx(\"td\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 27\n        }\n      }, __jsx(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 29\n        }\n      }, \"Free shipping\"), __jsx(\"p\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 29\n        }\n      }, \"Calculate shipping\"))), __jsx(\"tr\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 25\n        }\n      }, __jsx(\"th\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 27\n        }\n      }, \"Total\"), __jsx(\"td\", {\n        style: {\n          fontSize: 20 / 16 + \"em\"\n        },\n        className: \"-bold -color\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 27\n        }\n      }, formatCurrency(calculateTotalPrice(data)))))), __jsx(\"div\", {\n        className: \"checkout-total__footer\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 21\n        }\n      }, __jsx(Radio.Group, {\n        onChange: onChoosePaymentMethod,\n        value: paymentMethod,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 23\n        }\n      }, __jsx(Radio, {\n        style: {\n          display: \"block\"\n        },\n        value: \"cod\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 25\n        }\n      }, \"Cash on delivery\"))), __jsx(Button, {\n        className: \"checkout-sumbit\",\n        type: \"primary\",\n        shape: \"round\",\n        form: \"checkout-form\",\n        key: \"submit\",\n        htmlType: \"submit\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }\n      }, __jsx(\"a\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 23\n        }\n      }, \"Place order\"))))));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }), __jsx(PartnerOne, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 9\n    }\n  })));\n}\n\n_s(checkout, \"aDls+sTIchWb+NTjPKVrYW4QU6Y=\", false, function () {\n  return [useRouter, useSelector];\n});\n\nexport default /*#__PURE__*/React.memo(checkout);","map":{"version":3,"sources":["E:/clg-project/Glossar-web-app/src/pages/shop/checkout.js"],"names":["React","useState","useDispatch","useSelector","Form","Input","Button","Checkbox","Row","Col","Select","Radio","Breadcrumb","useRouter","formatCurrency","calculateTotalPrice","LayoutOne","Container","ShopOrderStep","PartnerOne","FetchDataHandle","apiInstance","getToken","checkout","paymentMethod","setPaymentMethod","router","cartState","state","cartReducer","onFinish","values","console","log","orderData","firstname","country","street","zip","city","phone","email","post","headers","res","push","response","onFinishFailed","errorInfo","onChoosePaymentMethod","e","target","value","data","required","message","map","item","index","name","cartQuantity","price","fontSize","display","memo"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Checkbox,\r\n  Row,\r\n  Col,\r\n  Select,\r\n  Radio,\r\n  Breadcrumb,\r\n} from \"antd\";\r\nimport { useRouter } from \"next/router\";\r\n\r\nimport { formatCurrency } from \"../../common/utils\";\r\nimport { calculateTotalPrice } from \"../../common/shopUtils\";\r\nimport LayoutOne from \"../../components/layout/LayoutOne\";\r\nimport Container from \"../../components/other/Container\";\r\nimport ShopOrderStep from \"../../components/shop/ShopOrderStep\";\r\nimport PartnerOne from \"../../components/sections/partners/PartnerOne\";\r\nimport FetchDataHandle from \"../../components/other/FetchDataHandle\";\r\nimport { apiInstance } from \"../../httpClient\";\r\nimport { getToken } from \"../../utils/common\";\r\n\r\nfunction checkout() {\r\n  const [paymentMethod, setPaymentMethod] = useState(\"cod\");\r\n  const router = useRouter();\r\n  const cartState = useSelector((state) => state.cartReducer);\r\n  const onFinish = async(values) => {\r\n    console.log('values: ', values);\r\n    const orderData = {\r\n      \"name\": values.firstname,\r\n      \"country\": values.country,\r\n      \"address\": values.street,\r\n      \"zipCode\": values.zip,\r\n      \"city\": values.city,\r\n      \"phone\": values.phone,\r\n      \"email\": values.email\r\n    }\r\n    try{\r\n      const res = await apiInstance.post(`order/create`, orderData, {\r\n        headers: {\r\n          \"Authorization\" : getToken()\r\n        }\r\n      } )\r\n      console.log('res: ', res);\r\n      router.push(\"/shop/order-complete\");\r\n    }\r\n    catch(e){\r\n      console.log('e: ', e.response);\r\n\r\n    }\r\n  };\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log(\"Failed:\", errorInfo);\r\n  };\r\n  const onChoosePaymentMethod = (e) => {\r\n    setPaymentMethod(e.target.value);\r\n  };\r\n  return (\r\n    <LayoutOne title=\"Checkout\">\r\n      <Container>\r\n        <Breadcrumb separator=\">\">\r\n          <Breadcrumb.Item>\r\n            <i className=\"fas fa-home\" />\r\n            Home\r\n          </Breadcrumb.Item>\r\n          <Breadcrumb.Item>Shop</Breadcrumb.Item>\r\n          <Breadcrumb.Item>Checkout</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <ShopOrderStep current={2} />\r\n        <FetchDataHandle\r\n          emptyDescription=\"No product in cart\"\r\n          data={cartState}\r\n          renderData={(data) => (\r\n            <div className=\"checkout\">\r\n              <Row gutter={50}>\r\n                <Col xs={24} md={16}>\r\n                  <div className=\"checkout-form\">\r\n                    <h3 className=\"checkout-title\">Billing details</h3>\r\n                    <Form\r\n                      name=\"checkout\"\r\n                      layout=\"vertical\"\r\n                      onFinish={onFinish}\r\n                      onFinishFailed={onFinishFailed}\r\n                      id=\"checkout-form\"\r\n                    >\r\n                      <Row gutter={15}>\r\n                        <Col xs={24} sm={24}>\r\n                          <Form.Item\r\n                            label=\"First name\"\r\n                            name=\"firstname\"\r\n                            rules={[\r\n                              {\r\n                                required: true,\r\n                                message: \"Please input your first name!\",\r\n                              },\r\n                            ]}\r\n                          >\r\n                            <Input />\r\n                          </Form.Item>\r\n                        </Col>\r\n                        \r\n                        <Col span={24}>\r\n                          <Form.Item\r\n                            label=\"Country\"\r\n                            name=\"country\"\r\n                            rules={[\r\n                              {\r\n                                required: true,\r\n                                message: \"Please input your country!\",\r\n                              },\r\n                            ]}\r\n                          >\r\n                            <Input />\r\n                          </Form.Item>\r\n                        </Col>\r\n                       \r\n                        <Col span={24}>\r\n                          <Form.Item\r\n                            label=\"Street address\"\r\n                            name=\"street\"\r\n                            rules={[\r\n                              {\r\n                                required: true,\r\n                                message: \"Please input your street addres!\",\r\n                              },\r\n                            ]}\r\n                          >\r\n                            <Input />\r\n                          </Form.Item>\r\n                        </Col>\r\n                        <Col span={24}>\r\n                          <Form.Item\r\n                            label=\"Postcode / ZIP (optional)\"\r\n                            name=\"zip\"\r\n                          >\r\n                            <Input />\r\n                          </Form.Item>\r\n                        </Col>\r\n                        <Col span={24}>\r\n                          <Form.Item\r\n                            label=\"Town / City\"\r\n                            name=\"city\"\r\n                            rules={[\r\n                              {\r\n                                required: true,\r\n                                message: \"Please input your Town/City!\",\r\n                              },\r\n                            ]}\r\n                          >\r\n                            <Input />\r\n                          </Form.Item>\r\n                        </Col>\r\n                        <Col span={24}>\r\n                          <Form.Item\r\n                            label=\"Phone\"\r\n                            name=\"phone\"\r\n                            rules={[\r\n                              {\r\n                                required: true,\r\n                                message: \"Please input your phone!\",\r\n                              },\r\n                            ]}\r\n                          >\r\n                            <Input />\r\n                          </Form.Item>\r\n                        </Col>\r\n                        <Col span={24}>\r\n                          <Form.Item\r\n                            label=\"Email address\"\r\n                            name=\"email\"\r\n                            rules={[\r\n                              {\r\n                                required: true,\r\n                                message: \"Please input your email address!\",\r\n                              },\r\n                            ]}\r\n                          >\r\n                            <Input />\r\n                          </Form.Item>\r\n                        </Col>\r\n                        \r\n                      </Row>\r\n                    </Form>\r\n                  </div>\r\n                </Col>\r\n                <Col xs={24} md={8}>\r\n                  <div className=\"checkout-total\">\r\n                    <h3 className=\"checkout-title\">Your order</h3>\r\n                    <table className=\"checkout-total__table\">\r\n                      <tbody>\r\n                        {data.map((item, index) => (\r\n                          <tr key={index}>\r\n                            <td>\r\n                              {item.name} x {item.cartQuantity}\r\n                            </td>\r\n                            <td className=\"-bold \">\r\n                              {formatCurrency(item.price * item.cartQuantity)}\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                        <tr>\r\n                          <th>SUBTOTAL</th>\r\n                          <td className=\"-bold -color\">\r\n                            {formatCurrency(calculateTotalPrice(data))}\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <th>SHIPPING</th>\r\n                          <td>\r\n                            <p>Free shipping</p>\r\n                            <p>Calculate shipping</p>\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <th>Total</th>\r\n                          <td\r\n                            style={{ fontSize: 20 / 16 + \"em\" }}\r\n                            className=\"-bold -color\"\r\n                          >\r\n                            {formatCurrency(calculateTotalPrice(data))}\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                    <div className=\"checkout-total__footer\">\r\n                      <Radio.Group\r\n                        onChange={onChoosePaymentMethod}\r\n                        value={paymentMethod}\r\n                      >\r\n                        <Radio style={{ display: \"block\" }} value=\"cod\">\r\n                          Cash on delivery\r\n                        </Radio>\r\n                        {/* <Radio style={{ display: \"block\" }} value=\"paypal\">\r\n                          Paypal\r\n                        </Radio> */}\r\n                      </Radio.Group>\r\n                    </div>\r\n                    <Button\r\n                      className=\"checkout-sumbit\"\r\n                      type=\"primary\"\r\n                      shape=\"round\"\r\n                      form=\"checkout-form\"\r\n                      key=\"submit\"\r\n                      htmlType=\"submit\"\r\n                    >\r\n                      <a>Place order</a>\r\n                    </Button>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          )}\r\n        />\r\n        <PartnerOne />\r\n      </Container>\r\n    </LayoutOne>\r\n  );\r\n}\r\n\r\nexport default React.memo(checkout);\r\n"]},"metadata":{},"sourceType":"module"}