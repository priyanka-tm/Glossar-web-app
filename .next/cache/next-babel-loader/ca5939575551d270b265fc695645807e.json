{"ast":null,"code":"var _jsxFileName = \"E:\\\\clg-project\\\\Glossar-web-app\\\\src\\\\pages\\\\shop\\\\checkout.js\";\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Form, Input, Button, Checkbox, Row, Col, Select, Radio, Breadcrumb } from \"antd\";\nimport { useRouter } from \"next/router\";\nimport { formatCurrency } from \"../../common/utils\";\nimport { calculateTotalPrice } from \"../../common/shopUtils\";\nimport LayoutOne from \"../../components/layout/LayoutOne\";\nimport Container from \"../../components/other/Container\";\nimport ShopOrderStep from \"../../components/shop/ShopOrderStep\";\nimport PartnerOne from \"../../components/sections/partners/PartnerOne\";\nimport FetchDataHandle from \"../../components/other/FetchDataHandle\";\nimport { apiInstance } from \"../../httpClient\";\n\nfunction checkout() {\n  const {\n    0: paymentMethod,\n    1: setPaymentMethod\n  } = useState(\"cod\");\n  const router = useRouter();\n  const cartState = useSelector(state => state.cartReducer);\n\n  const onFinish = async values => {\n    console.log('values: ', values);\n    const orderData = {\n      \"name\": values.firstname,\n      \"country\": values.country,\n      \"address\": values.street,\n      \"zipCode\": values.zip,\n      \"city\": values.city,\n      \"phone\": values.phone,\n      \"email\": values.email\n    };\n\n    try {\n      const res = await apiInstance.post(`order/create`, orderData);\n      console.log('res: ', res);\n      router.push(\"/shop/order-complete\");\n    } catch (e) {\n      console.log('e: ', e.response);\n    }\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log(\"Failed:\", errorInfo);\n  };\n\n  const onChoosePaymentMethod = e => {\n    setPaymentMethod(e.target.value);\n  };\n\n  return __jsx(LayoutOne, {\n    title: \"Checkout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, __jsx(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, __jsx(Breadcrumb, {\n    separator: \">\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, __jsx(Breadcrumb.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, __jsx(\"i\", {\n    className: \"fas fa-home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }), \"Home\"), __jsx(Breadcrumb.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, \"Shop\"), __jsx(Breadcrumb.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, \"Checkout\")), __jsx(ShopOrderStep, {\n    current: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), __jsx(FetchDataHandle, {\n    emptyDescription: \"No product in cart\",\n    data: cartState,\n    renderData: data => __jsx(\"div\", {\n      className: \"checkout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }\n    }, __jsx(Row, {\n      gutter: 50,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }\n    }, __jsx(Col, {\n      xs: 24,\n      md: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"checkout-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 19\n      }\n    }, __jsx(\"h3\", {\n      className: \"checkout-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 21\n      }\n    }, \"Billing details\"), __jsx(Form, {\n      name: \"checkout\",\n      layout: \"vertical\",\n      onFinish: onFinish,\n      onFinishFailed: onFinishFailed,\n      id: \"checkout-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, __jsx(Row, {\n      gutter: 15,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 23\n      }\n    }, __jsx(Col, {\n      xs: 24,\n      sm: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 25\n      }\n    }, __jsx(Form.Item, {\n      label: \"First name\",\n      name: \"firstname\",\n      rules: [{\n        required: true,\n        message: \"Please input your first name!\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 27\n      }\n    }, __jsx(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    }))), __jsx(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 25\n      }\n    }, __jsx(Form.Item, {\n      label: \"Country\",\n      name: \"country\",\n      rules: [{\n        required: true,\n        message: \"Please input your country!\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 27\n      }\n    }, __jsx(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 29\n      }\n    }))), __jsx(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 25\n      }\n    }, __jsx(Form.Item, {\n      label: \"Street address\",\n      name: \"street\",\n      rules: [{\n        required: true,\n        message: \"Please input your street addres!\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 27\n      }\n    }, __jsx(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 29\n      }\n    }))), __jsx(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 25\n      }\n    }, __jsx(Form.Item, {\n      label: \"Postcode / ZIP (optional)\",\n      name: \"zip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 27\n      }\n    }, __jsx(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 29\n      }\n    }))), __jsx(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 25\n      }\n    }, __jsx(Form.Item, {\n      label: \"Town / City\",\n      name: \"city\",\n      rules: [{\n        required: true,\n        message: \"Please input your Town/City!\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 27\n      }\n    }, __jsx(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 29\n      }\n    }))), __jsx(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 25\n      }\n    }, __jsx(Form.Item, {\n      label: \"Phone\",\n      name: \"phone\",\n      rules: [{\n        required: true,\n        message: \"Please input your phone!\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 27\n      }\n    }, __jsx(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 29\n      }\n    }))), __jsx(Col, {\n      span: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 25\n      }\n    }, __jsx(Form.Item, {\n      label: \"Email address\",\n      name: \"email\",\n      rules: [{\n        required: true,\n        message: \"Please input your email address!\"\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 27\n      }\n    }, __jsx(Input, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 29\n      }\n    }))))))), __jsx(Col, {\n      xs: 24,\n      md: 8,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"checkout-total\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 19\n      }\n    }, __jsx(\"h3\", {\n      className: \"checkout-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }\n    }, \"Your order\"), __jsx(\"table\", {\n      className: \"checkout-total__table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 21\n      }\n    }, __jsx(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 23\n      }\n    }, data.map((item, index) => __jsx(\"tr\", {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 27\n      }\n    }, __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 29\n      }\n    }, item.name, \" x \", item.cartQuantity), __jsx(\"td\", {\n      className: \"-bold \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 29\n      }\n    }, formatCurrency(item.price * item.cartQuantity)))), __jsx(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 25\n      }\n    }, __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 27\n      }\n    }, \"SUBTOTAL\"), __jsx(\"td\", {\n      className: \"-bold -color\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 27\n      }\n    }, formatCurrency(calculateTotalPrice(data)))), __jsx(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 25\n      }\n    }, __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 27\n      }\n    }, \"SHIPPING\"), __jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 27\n      }\n    }, __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 29\n      }\n    }, \"Free shipping\"), __jsx(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 29\n      }\n    }, \"Calculate shipping\"))), __jsx(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 25\n      }\n    }, __jsx(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 27\n      }\n    }, \"Total\"), __jsx(\"td\", {\n      style: {\n        fontSize: 20 / 16 + \"em\"\n      },\n      className: \"-bold -color\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 27\n      }\n    }, formatCurrency(calculateTotalPrice(data)))))), __jsx(\"div\", {\n      className: \"checkout-total__footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 21\n      }\n    }, __jsx(Radio.Group, {\n      onChange: onChoosePaymentMethod,\n      value: paymentMethod,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 23\n      }\n    }, __jsx(Radio, {\n      style: {\n        display: \"block\"\n      },\n      value: \"cod\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 25\n      }\n    }, \"Cash on delivery\"))), __jsx(Button, {\n      className: \"checkout-sumbit\",\n      type: \"primary\",\n      shape: \"round\",\n      form: \"checkout-form\",\n      key: \"submit\",\n      htmlType: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 21\n      }\n    }, __jsx(\"a\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 23\n      }\n    }, \"Place order\")))))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), __jsx(PartnerOne, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default /*#__PURE__*/React.memo(checkout);","map":{"version":3,"sources":["E:/clg-project/Glossar-web-app/src/pages/shop/checkout.js"],"names":["React","useState","useDispatch","useSelector","Form","Input","Button","Checkbox","Row","Col","Select","Radio","Breadcrumb","useRouter","formatCurrency","calculateTotalPrice","LayoutOne","Container","ShopOrderStep","PartnerOne","FetchDataHandle","apiInstance","checkout","paymentMethod","setPaymentMethod","router","cartState","state","cartReducer","onFinish","values","console","log","orderData","firstname","country","street","zip","city","phone","email","res","post","push","e","response","onFinishFailed","errorInfo","onChoosePaymentMethod","target","value","data","required","message","map","item","index","name","cartQuantity","price","fontSize","display","memo"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Checkbox,\r\n  Row,\r\n  Col,\r\n  Select,\r\n  Radio,\r\n  Breadcrumb,\r\n} from \"antd\";\r\nimport { useRouter } from \"next/router\";\r\n\r\nimport { formatCurrency } from \"../../common/utils\";\r\nimport { calculateTotalPrice } from \"../../common/shopUtils\";\r\nimport LayoutOne from \"../../components/layout/LayoutOne\";\r\nimport Container from \"../../components/other/Container\";\r\nimport ShopOrderStep from \"../../components/shop/ShopOrderStep\";\r\nimport PartnerOne from \"../../components/sections/partners/PartnerOne\";\r\nimport FetchDataHandle from \"../../components/other/FetchDataHandle\";\r\nimport { apiInstance } from \"../../httpClient\";\r\n\r\nfunction checkout() {\r\n  const [paymentMethod, setPaymentMethod] = useState(\"cod\");\r\n  const router = useRouter();\r\n  const cartState = useSelector((state) => state.cartReducer);\r\n  const onFinish = async(values) => {\r\n    console.log('values: ', values);\r\n    const orderData = {\r\n      \"name\": values.firstname,\r\n      \"country\": values.country,\r\n      \"address\": values.street,\r\n      \"zipCode\": values.zip,\r\n      \"city\": values.city,\r\n      \"phone\": values.phone,\r\n      \"email\": values.email\r\n    }\r\n    try{\r\n      const res = await apiInstance.post(`order/create`, orderData)\r\n      console.log('res: ', res);\r\n      router.push(\"/shop/order-complete\");\r\n    }\r\n    catch(e){\r\n      console.log('e: ', e.response);\r\n\r\n    }\r\n  };\r\n  const onFinishFailed = (errorInfo) => {\r\n    console.log(\"Failed:\", errorInfo);\r\n  };\r\n  const onChoosePaymentMethod = (e) => {\r\n    setPaymentMethod(e.target.value);\r\n  };\r\n  return (\r\n    <LayoutOne title=\"Checkout\">\r\n      <Container>\r\n        <Breadcrumb separator=\">\">\r\n          <Breadcrumb.Item>\r\n            <i className=\"fas fa-home\" />\r\n            Home\r\n          </Breadcrumb.Item>\r\n          <Breadcrumb.Item>Shop</Breadcrumb.Item>\r\n          <Breadcrumb.Item>Checkout</Breadcrumb.Item>\r\n        </Breadcrumb>\r\n        <ShopOrderStep current={2} />\r\n        <FetchDataHandle\r\n          emptyDescription=\"No product in cart\"\r\n          data={cartState}\r\n          renderData={(data) => (\r\n            <div className=\"checkout\">\r\n              <Row gutter={50}>\r\n                <Col xs={24} md={16}>\r\n                  <div className=\"checkout-form\">\r\n                    <h3 className=\"checkout-title\">Billing details</h3>\r\n                    <Form\r\n                      name=\"checkout\"\r\n                      layout=\"vertical\"\r\n                      onFinish={onFinish}\r\n                      onFinishFailed={onFinishFailed}\r\n                      id=\"checkout-form\"\r\n                    >\r\n                      <Row gutter={15}>\r\n                        <Col xs={24} sm={24}>\r\n                          <Form.Item\r\n                            label=\"First name\"\r\n                            name=\"firstname\"\r\n                            rules={[\r\n                              {\r\n                                required: true,\r\n                                message: \"Please input your first name!\",\r\n                              },\r\n                            ]}\r\n                          >\r\n                            <Input />\r\n                          </Form.Item>\r\n                        </Col>\r\n                        \r\n                        <Col span={24}>\r\n                          <Form.Item\r\n                            label=\"Country\"\r\n                            name=\"country\"\r\n                            rules={[\r\n                              {\r\n                                required: true,\r\n                                message: \"Please input your country!\",\r\n                              },\r\n                            ]}\r\n                          >\r\n                            <Input />\r\n                          </Form.Item>\r\n                        </Col>\r\n                       \r\n                        <Col span={24}>\r\n                          <Form.Item\r\n                            label=\"Street address\"\r\n                            name=\"street\"\r\n                            rules={[\r\n                              {\r\n                                required: true,\r\n                                message: \"Please input your street addres!\",\r\n                              },\r\n                            ]}\r\n                          >\r\n                            <Input />\r\n                          </Form.Item>\r\n                        </Col>\r\n                        <Col span={24}>\r\n                          <Form.Item\r\n                            label=\"Postcode / ZIP (optional)\"\r\n                            name=\"zip\"\r\n                          >\r\n                            <Input />\r\n                          </Form.Item>\r\n                        </Col>\r\n                        <Col span={24}>\r\n                          <Form.Item\r\n                            label=\"Town / City\"\r\n                            name=\"city\"\r\n                            rules={[\r\n                              {\r\n                                required: true,\r\n                                message: \"Please input your Town/City!\",\r\n                              },\r\n                            ]}\r\n                          >\r\n                            <Input />\r\n                          </Form.Item>\r\n                        </Col>\r\n                        <Col span={24}>\r\n                          <Form.Item\r\n                            label=\"Phone\"\r\n                            name=\"phone\"\r\n                            rules={[\r\n                              {\r\n                                required: true,\r\n                                message: \"Please input your phone!\",\r\n                              },\r\n                            ]}\r\n                          >\r\n                            <Input />\r\n                          </Form.Item>\r\n                        </Col>\r\n                        <Col span={24}>\r\n                          <Form.Item\r\n                            label=\"Email address\"\r\n                            name=\"email\"\r\n                            rules={[\r\n                              {\r\n                                required: true,\r\n                                message: \"Please input your email address!\",\r\n                              },\r\n                            ]}\r\n                          >\r\n                            <Input />\r\n                          </Form.Item>\r\n                        </Col>\r\n                        \r\n                      </Row>\r\n                    </Form>\r\n                  </div>\r\n                </Col>\r\n                <Col xs={24} md={8}>\r\n                  <div className=\"checkout-total\">\r\n                    <h3 className=\"checkout-title\">Your order</h3>\r\n                    <table className=\"checkout-total__table\">\r\n                      <tbody>\r\n                        {data.map((item, index) => (\r\n                          <tr key={index}>\r\n                            <td>\r\n                              {item.name} x {item.cartQuantity}\r\n                            </td>\r\n                            <td className=\"-bold \">\r\n                              {formatCurrency(item.price * item.cartQuantity)}\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                        <tr>\r\n                          <th>SUBTOTAL</th>\r\n                          <td className=\"-bold -color\">\r\n                            {formatCurrency(calculateTotalPrice(data))}\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <th>SHIPPING</th>\r\n                          <td>\r\n                            <p>Free shipping</p>\r\n                            <p>Calculate shipping</p>\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <th>Total</th>\r\n                          <td\r\n                            style={{ fontSize: 20 / 16 + \"em\" }}\r\n                            className=\"-bold -color\"\r\n                          >\r\n                            {formatCurrency(calculateTotalPrice(data))}\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                    <div className=\"checkout-total__footer\">\r\n                      <Radio.Group\r\n                        onChange={onChoosePaymentMethod}\r\n                        value={paymentMethod}\r\n                      >\r\n                        <Radio style={{ display: \"block\" }} value=\"cod\">\r\n                          Cash on delivery\r\n                        </Radio>\r\n                        {/* <Radio style={{ display: \"block\" }} value=\"paypal\">\r\n                          Paypal\r\n                        </Radio> */}\r\n                      </Radio.Group>\r\n                    </div>\r\n                    <Button\r\n                      className=\"checkout-sumbit\"\r\n                      type=\"primary\"\r\n                      shape=\"round\"\r\n                      form=\"checkout-form\"\r\n                      key=\"submit\"\r\n                      htmlType=\"submit\"\r\n                    >\r\n                      <a>Place order</a>\r\n                    </Button>\r\n                  </div>\r\n                </Col>\r\n              </Row>\r\n            </div>\r\n          )}\r\n        />\r\n        <PartnerOne />\r\n      </Container>\r\n    </LayoutOne>\r\n  );\r\n}\r\n\r\nexport default React.memo(checkout);\r\n"]},"metadata":{},"sourceType":"module"}